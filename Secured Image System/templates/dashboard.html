<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Encrypted Files</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">

  {% include 'navbar.html' %}

  <div class="max-w-3xl mx-auto mt-16 bg-white p-8 rounded-2xl shadow-xl border border-gray-200">
    <h1 class="text-3xl font-bold text-center mb-6">Welcome, {{ session['user'] }}</h1>
    <h2 class="text-xl font-semibold mb-6 text-center text-blue-600">Your Encrypted Files</h2>

    {% if categories %}
      {% for category, files_list in categories.items() %}
        <h3 class="font-semibold text-lg mt-4">{{ category }}</h3>
        <ul class="space-y-2">
          {% for file in files_list %}
            <li class="flex justify-between items-center bg-gray-100 p-2 rounded">
              <span>{{ file }}</span>
              <div class="flex space-x-2">
                <a href="{{ url_for('download', file_type='encrypted', filename=file) }}" class="bg-green-500 text-white px-2 py-1 rounded text-sm">Download</a>
                <form action="{{ url_for('delete_file', filename=file) }}" method="POST" onsubmit="return confirm('Are you sure?');">
                  <button type="submit" class="bg-red-500 text-white px-2 py-1 rounded text-sm">Delete</button>
                </form>
              </div>
            </li>
          {% endfor %}
        </ul>
      {% endfor %}
    {% else %}
      <p class="text-center text-gray-600">No files uploaded yet!</p>
    {% endif %}
  </div>

  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>


